{"version":3,"sources":["hooks/useFetch.js","hooks/useLocalStorage.js","pages/contact/contact.js","pages/contact/contact.module.sass"],"names":["useFetch","url","useState","isLoading","setIsLoading","response","setResponse","error","setError","options","setOptions","key","initialValue","localStorage","getItem","value","setValue","useEffect","setItem","toString","useLocalStorage","token","doFetch","useCallback","skipGetResponseAfterDestroy","requestOptions","headers","auth","axios","then","res","data","catch","err","Contact","form","setForm","onChangeForm","e","target","name","className","style","onChange","id","type","htmlFor","disabled","onClick","method","module","exports"],"mappings":"2LAMe,SAASA,EAASC,GAAK,IAAD,EACDC,oBAAS,GADR,mBAC5BC,EAD4B,KACjBC,EADiB,OAEHF,mBAAS,MAFN,mBAE5BG,EAF4B,KAElBC,EAFkB,OAGTJ,mBAAS,MAHA,mBAG5BK,EAH4B,KAGrBC,EAHqB,OAILN,mBAAS,IAJJ,mBAI5BO,EAJ4B,KAInBC,EAJmB,OCJtB,SAAyBC,GAAyB,IAApBC,EAAmB,uDAAJ,GAAI,EAClCV,oBAAS,kBAAIW,aAAaC,QAAQH,IAAQC,KADR,mBACrDG,EADqD,KAC9CC,EAD8C,KAO5D,OAJAC,qBAAU,WACNJ,aAAaK,QAAQP,EAAKI,EAAMI,cACjC,CAACJ,EAAOJ,IAEJ,CAACI,EAAOC,GDEDI,CAAgB,SAAzBC,EAL4B,oBAO7BC,EAAUC,uBAAY,WAAiB,IAAhBd,EAAe,uDAAL,GACrCC,EAAWD,GACXL,GAAa,KACZ,IAoCH,OAlCAa,qBAAU,WACR,IAAIO,GAA8B,EAC5BC,EAAc,eACfhB,EADe,GACH,CACbiB,QAAQ,CACNC,KAAMN,EACN,eAAgB,sBAKtB,GAAIlB,EAiBJ,OAbAyB,IAAM3B,EAAKwB,GACTI,MAAK,SAAAC,GACDN,IACFpB,GAAa,GACbE,EAAYwB,EAAIC,UAEjBC,OAAM,SAAAC,GACHT,IACFpB,GAAa,GACbI,EAASyB,OAIN,WACLT,GAA8B,KAG/B,CAACrB,EAAWM,EAASR,EAAKoB,IAEtB,CAAC,CAAClB,YAAWE,WAAUE,QAAOC,YAAWc,GECnCY,UAhDf,WAAoB,IAAD,EAC0BlC,EAAS,iCADnC,0BACPK,EADO,EACPA,SAAUF,EADH,EACGA,UAAYmB,EADf,OAESpB,mBAAS,IAFlB,mBAERiC,EAFQ,KAEFC,EAFE,KAIf,SAASC,EAAaC,GAClBF,EAAQ,eAAID,EAAL,eAAYG,EAAEC,OAAOC,KAAOF,EAAEC,OAAOxB,SAUhD,OACI,6BACI,wBAAI0B,UAAU,cAAd,WACA,yBAAKA,UAAWC,IAAMP,MAClB,yBAAKM,UAAU,OACX,yBAAKA,UAAU,uBACX,2BAAOE,SAAUN,EAAcO,GAAG,OAAOJ,KAAK,OAAOK,KAAK,SAC1D,2BAAOC,QAAQ,QAAf,UAGR,yBAAKL,UAAU,OACX,yBAAKA,UAAU,uBACX,2BAAOE,SAAUN,EAAcO,GAAG,QAAQJ,KAAK,QAAQK,KAAK,UACxD,2BAAOC,QAAQ,SAAf,WAGZ,yBAAKL,UAAU,OACX,yBAAKA,UAAU,uBACX,8BAAUE,SAAUN,EAAcO,GAAG,WAAWJ,KAAK,UAAUC,UAAU,yBACzE,2BAAOK,QAAQ,YAAf,aAGR,4BAAQC,SAAU5C,EAAW6C,QA7BzC,WACI1B,EAAQ,CACJ2B,OAAQ,OACRlB,KAAMI,KA0B8CM,UAAU,+BAA+BD,KAAK,UAA9F,QACS,uBAAGC,UAAU,yBAGzBpC,GACG,2E,oBC9ChB6C,EAAOC,QAAU,CAAC,KAAO","file":"static/js/11.0d958862.chunk.js","sourcesContent":["import {useEffect, useState, useCallback} from 'react';\nimport axios from \"axios\";\n\nimport useLocalStorage from \"./useLocalStorage\";\n\n\nexport default function useFetch(url){\n  const [isLoading, setIsLoading] = useState(false);\n  const [response, setResponse] = useState(null);\n  const [error, setError] = useState(null);\n  const [options, setOptions] = useState({});\n  const [token] = useLocalStorage('token');\n\n  const doFetch = useCallback((options = {})=>{\n    setOptions(options);\n    setIsLoading(true);\n  }, [])\n\n  useEffect(() => {\n    let skipGetResponseAfterDestroy = false;\n    const requestOptions = {\n      ...options, ...{\n        headers:{\n          auth: token,\n          'Content-Type': 'application/json'\n        }\n      }\n    }\n\n    if(!isLoading){\n      return\n    }\n\n    axios(url, requestOptions\n    ).then(res=>{\n      if(!skipGetResponseAfterDestroy){\n        setIsLoading(false);\n        setResponse(res.data);\n      }\n    }).catch(err=>{\n      if(!skipGetResponseAfterDestroy){\n        setIsLoading(false);\n        setError(err);\n      }\n    });\n\n    return () => {\n      skipGetResponseAfterDestroy = true;\n    }\n\n  }, [isLoading, options, url, token]);\n\n  return [{isLoading, response, error, setError}, doFetch]\n}\n","import {useEffect, useState} from 'react';\n\nexport default function useLocalStorage(key, initialValue = '') {\n    const [value, setValue] = useState(()=>localStorage.getItem(key) || initialValue);\n\n    useEffect(()=>{\n        localStorage.setItem(key, value.toString());\n    }, [value, key]);\n\n    return [value, setValue];\n}\n","import React, {useState} from 'react';\nimport style from \"./contact.module.sass\";\nimport useFetch from \"../../hooks/useFetch\";\n\n\nfunction Contact() {\n    const [{response, isLoading}, doFetch] = useFetch(\"https://formspree.io/mgenwrwy\");\n    const [form, setForm] = useState({});\n\n    function onChangeForm(e) {\n        setForm({...form, [e.target.name]: e.target.value});\n    }\n\n    function sendForm() {\n        doFetch({\n            method: \"post\",\n            data: form\n        });\n    }\n\n    return (\n        <div>\n            <h3 className=\"title-text\">Contact</h3>\n            <div className={style.form}>\n                <div className=\"row\">\n                    <div className=\"input-field col s12\">\n                        <input onChange={onChangeForm} id=\"name\" name=\"name\" type=\"text\"/>\n                        <label htmlFor=\"name\">Name</label>\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div className=\"input-field col s12\">\n                        <input onChange={onChangeForm} id=\"email\" name=\"email\" type=\"email\"/>\n                            <label htmlFor=\"email\">Email</label>\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div className=\"input-field col s12\">\n                        <textarea onChange={onChangeForm} id=\"textarea\" name=\"message\" className=\"materialize-textarea\"/>\n                        <label htmlFor=\"textarea\">Message</label>\n                    </div>\n                </div>\n                <button disabled={isLoading} onClick={sendForm} className=\"btn waves-effect waves-light\" name=\"action\">\n                    Send <i className=\"fas fa-paper-plane\"/>\n                </button>\n            </div>\n            {response && (\n                <p>Message sent, thanks, I will contact you!</p>\n            )}\n        </div>\n    );\n}\n\nexport default Contact;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"contact_form__1g_pf\"};"],"sourceRoot":""}