{"version":3,"sources":["pages/works/worksUserPage/worksUserPage.js","components/projectFormComponent/ProjectFormComponent.js","pages/works/worksAdminPage/worksAdminPage.js","pages/works/works.js","pages/works/worksUserPage/worksUserPage.module.sass","pages/works/worksAdminPage/worksAdminPanel.module.sass"],"names":["WorksUserPage","useState","data","state","setState","loading","setLoading","useEffect","axios","get","then","worksObj","Object","keys","map","key","id","reverse","className","style","block","Loader","url","href","rel","target","imgWrap","dangerouslySetInnerHTML","__html","image","hoverBlock","hoverBlockTags","stack","tag","idx","ProjectFormComponent","props","urlForm","setUrlForm","imgValue","setImgValue","stackValue","setStackValue","projectId","setProjectId","token","useSelector","auth","cancelEditProject","editProjectObject","editFlag","join","onChange","e","value","name","type","htmlFor","modules","toolbar","theme","onClick","obj","split","patch","window","location","reload","marginLeft","post","WorksAdminPage","worksList","setWorksList","editedProject","setEditedProject","editedFlag","setEditedFlag","item","workItem","delete","newWorksObj","filter","Works","editState","edited","module","exports"],"mappings":"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","file":"static/js/8.a5d615e6.chunk.js","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport style from './worksUserPage.module.sass';\nimport axios from 'axios';\nimport Loader from \"../../../components/Loader/Loader\";\n\nfunction WorksUserPage() {\n  const [state, setState] = useState({data: []});\n  const [loading, setLoading] = useState(true);\n\n  useEffect(()=>{\n    axios.get('https://denfedweb-github-io.firebaseio.com/works.json').then(({data}) => {\n      const worksObj = Object.keys(data)\n        .map(key => ({\n          ...data[key],\n          id: key\n        }));\n      setState({data: worksObj.reverse()});\n      setLoading(false);\n    });\n  }, []);\n\n  return (\n    <div className={style.block}>\n      <h3 className=\"title-text\">Portfolio</h3>\n      {loading ? <Loader/> :\n        <div className=\"row\">\n          {state.data.map(data => (\n            <div className=\"col s12 m6 l4\" key={data.url}>\n              <a href={data.url} rel=\"noopener noreferrer\" target=\"_blank\" className={style.imgWrap}>\n                <span dangerouslySetInnerHTML={{__html: data.image}}/>\n                <div>\n                  <i className=\"fas fa-search\"/>\n                  <div className={style.hoverBlock}>\n                        <span className={style.hoverBlockTags}>\n                          {data.stack.map((tag, idx) => (<span key={idx}>{tag}</span>))}\n                        </span>\n                  </div>\n                </div>\n              </a>\n            </div>\n          ))}\n        </div>\n      }\n    </div>\n  );\n}\n\nexport default WorksUserPage;\n","import React, {useEffect, useState} from 'react';\nimport ReactQuill from \"react-quill\";\nimport axios from \"axios\";\nimport {useSelector} from \"react-redux\";\n\nfunction ProjectFormComponent(props) {\n  const [urlForm, setUrlForm] = useState('');\n  const [imgValue, setImgValue] = useState('');\n  const [stackValue, setStackValue] = useState('');\n  const [projectId, setProjectId] = useState('');\n  const auth = useSelector(state => state.auth);\n  const {token} = auth;\n  const {cancelEditProject, editProjectObject, editFlag} = props;\n  const modules = {\n    toolbar: [\n      ['image']\n    ]\n  }\n  function onChangeUrlForm(e) {\n    setUrlForm(e.target.value);\n  }\n  useEffect(()=> {\n    if(editFlag){\n      setUrlForm(editProjectObject.url);\n      setImgValue(editProjectObject.image);\n      setStackValue(editProjectObject.stack.join(' '));\n      setProjectId(editProjectObject.id);\n    }\n  }, [editFlag, editProjectObject?.url])\n  function changeStack(e){\n    setStackValue(e.target.value);\n  }\n\n  function save(){\n    const obj = {\n      url: urlForm,\n      image: imgValue,\n      stack: stackValue.split(' ')\n    }\n    axios.post(`https://denfedweb-github-io.firebaseio.com/works.json?auth=${token}`, obj).then(() => {\n      window.location.reload();\n    });\n  }\n\n  function edit() {\n    const obj = {\n      url: urlForm,\n      image: imgValue,\n      stack: stackValue.split(' ')\n    }\n    axios.patch(`https://denfedweb-github-io.firebaseio.com/works/${projectId}.json?auth=${token}`, obj).then(() => {\n      window.location.reload();\n    });\n  }\n\n  function cancel(){\n    setImgValue('');\n    setStackValue('');\n    setUrlForm('');\n    setProjectId('');\n    cancelEditProject();\n  }\n\n  return (\n    <div>\n      <div className=\"row\">\n        <div className=\"input-field col s12\">\n          <input onChange={onChangeUrlForm} value={urlForm} id=\"url\" name=\"url\" type=\"text\"/>\n          <label htmlFor=\"url\">Project url</label>\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"input-field col s12\">\n          <span>Project IMAGE</span>\n          <ReactQuill modules={modules} theme=\"snow\" value={imgValue} onChange={setImgValue}/>\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"input-field col s12\">\n          <input onChange={changeStack} id=\"stack\" value={stackValue} name=\"stack\" type=\"text\"/>\n          <label htmlFor=\"stack\">Stack</label>\n        </div>\n      </div>\n      {\n        editFlag ?\n          <div>\n            <button className=\"btn waves-effect waves-light\" onClick={edit}>Edit</button>\n            <button className=\"btn waves-effect waves-light\" style={{marginLeft: '15px'}} onClick={cancel}>Cancel</button>\n          </div>\n          :\n          <button className=\"btn waves-effect waves-light\" onClick={save}>Add new work project</button>\n      }\n    </div>\n  );\n}\n\nexport default ProjectFormComponent;\n","import React, {Fragment, useEffect, useState} from 'react';\nimport ProjectFormComponent from \"../../../components/projectFormComponent/ProjectFormComponent\";\nimport style from './worksAdminPanel.module.sass';\nimport axios from 'axios';\nimport {useSelector} from \"react-redux\";\n\nfunction WorksAdminPage() {\n  const auth = useSelector(state => state.auth);\n  const {token} = auth;\n  const [worksList, setWorksList] = useState([]);\n  const [editedProject, setEditedProject] = useState({});\n  const [editedFlag, setEditedFlag] = useState(false);\n\n  useEffect(()=> {\n    axios.get('https://denfedweb-github-io.firebaseio.com/works.json').then(({data}) => {\n      const worksObj = Object.keys(data)\n        .map(key => ({\n          ...data[key],\n          id: key\n        }));\n      setWorksList(worksObj.reverse());\n    })\n  }, [])\n\n  function removeWorkProject(id){\n    axios.delete(`https://denfedweb-github-io.firebaseio.com/works/${id}.json?auth=${token}`).then(()=>{\n      const newWorksObj = worksList.filter(item => item.id !== id);\n      setWorksList(newWorksObj);\n    });\n  }\n\n  function edit(obj){\n    setEditedProject(obj);\n    setEditedFlag(true);\n  }\n\n  function cancelEditProject(){\n    setEditedFlag(false);\n    setEditedProject({});\n  }\n\n  return (\n    <Fragment>\n      <h3 className=\"title-text\">Portfolio Admin</h3>\n      <div className='row'>\n        <div className='col s6'>\n          <ul className=\"collection\">\n            {worksList.map((item) =>(\n              <li className={`collection-item ${style.workItem}`} key={item.id}>\n                <div>\n                  <a href={item.url}>\n                  <div dangerouslySetInnerHTML={{__html: item.image}}/>\n                  {item.url}\n                  </a>\n                </div>\n                <div style={{marginLeft: \"auto\"}}>\n                  <button className=\"btn waves-effect waves-light\" onClick={() => edit(item)}>Edit</button>\n                  <button className=\"btn waves-effect waves-light\" onClick={() => removeWorkProject(item.id)}>Remove</button>\n                </div>\n              </li>\n            ))}\n          </ul>\n        </div>\n        <div className='col s6'>\n          <ProjectFormComponent cancelEditProject={cancelEditProject} editProjectObject={editedProject} editFlag={editedFlag} />\n        </div>\n      </div>\n    </Fragment>\n  );\n}\n\nexport default WorksAdminPage;\n","import React from 'react';\nimport {useSelector} from \"react-redux\";\nimport WorksUserPage from \"./worksUserPage/worksUserPage\";\nimport WorksAdminPage from \"./worksAdminPage/worksAdminPage\";\n\nfunction Works() {\n  const editedState = useSelector(state => state.editState);\n  const {edited} = editedState;\n  if(edited){\n    return <WorksAdminPage/>\n  } else {\n    return <WorksUserPage/>\n  }\n}\n\nexport default Works;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imgWrap\":\"worksUserPage_imgWrap__S23H6\",\"block\":\"worksUserPage_block__3lPNg\",\"hoverBlock\":\"worksUserPage_hoverBlock__2rmxw\",\"hoverBlockTags\":\"worksUserPage_hoverBlockTags__2umMS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"workItem\":\"worksAdminPanel_workItem__uDQc8\"};"],"sourceRoot":""}