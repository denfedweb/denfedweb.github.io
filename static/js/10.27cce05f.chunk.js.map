{"version":3,"sources":["pages/admin/admin.js","pages/contact/contact.module.sass"],"names":["Admin","useState","form","setForm","loading","setLoading","history","useHistory","dispatch","useDispatch","onChangeForm","e","returnSecureToken","target","name","value","sendForm","adminFrom","axios","post","then","data","expData","Date","getTime","expiresIn","localStorage","setItem","toString","idToken","logged","push","catch","err","console","error","handleKeyPress","event","key","className","style","onChange","id","type","onKeyPress","htmlFor","disabled","onClick","module","exports"],"mappings":"kNAkEeA,UA3Df,WAAkB,IAAD,EACSC,mBAAS,IADlB,mBACRC,EADQ,KACFC,EADE,OAEeF,oBAAS,GAFxB,mBAERG,EAFQ,KAECC,EAFD,KAGTC,EAAUC,cACVC,EAAWC,cAEjB,SAASC,EAAaC,GACpBR,EAAQ,eAAID,EAAL,aAAWU,mBAAmB,GAAQD,EAAEE,OAAOC,KAAOH,EAAEE,OAAOE,SAGxE,SAASC,IACPX,GAAW,GACX,IAAMY,EAAS,eACVf,EADU,CAEbU,mBAAmB,IAErBM,IAAMC,KAAK,oHAAqHF,GAAWG,MAAK,YAAa,IAAXC,EAAU,EAAVA,KAChJhB,GAAW,GACX,IAAMiB,EAAU,IAAIC,MAAK,IAAIA,MAAOC,UAA8B,KAAjBH,EAAKI,WACtDC,aAAaC,QAAQ,eAAgBL,EAAQM,YAC7CF,aAAaC,QAAQ,WAAYN,EAAKQ,SACtCrB,EAASsB,eACTxB,EAAQyB,KAAK,QACZC,OAAM,SAAAC,GACPC,QAAQC,MAAMF,GACd5B,GAAW,MAIf,SAAS+B,EAAeC,GACL,UAAdA,EAAMC,KACPtB,IAIJ,OACE,6BACE,wBAAIuB,UAAU,cAAd,SACA,yBAAKA,UAAWC,IAAMtC,MACpB,yBAAKqC,UAAU,OACb,yBAAKA,UAAU,uBACb,2BAAOE,SAAU/B,EAAcgC,GAAG,QAAQ5B,KAAK,QAAQ6B,KAAK,QAAQC,WAAYR,IAChF,2BAAOS,QAAQ,SAAf,WAGJ,yBAAKN,UAAU,OACb,yBAAKA,UAAU,uBACb,2BAAOE,SAAU/B,EAAcgC,GAAG,WAAW5B,KAAK,WAAW6B,KAAK,WAAWC,WAAYR,IACzF,2BAAOS,QAAQ,YAAf,cAGJ,4BAAQC,SAAU1C,EAAS2C,QAAS/B,EAAUuB,UAAU,+BAA+BzB,KAAK,UAA5F,SACQ,uBAAGyB,UAAU,4B,oBC1D7BS,EAAOC,QAAU,CAAC,KAAO","file":"static/js/10.27cce05f.chunk.js","sourcesContent":["import React, {useState} from 'react';\nimport style from \"../contact/contact.module.sass\";\nimport axios from 'axios';\nimport { useHistory } from \"react-router-dom\";\nimport {useDispatch} from \"react-redux\";\nimport {logged} from \"../../redux/actions\";\n\nfunction Admin() {\n  const [form, setForm] = useState({});\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  function onChangeForm(e) {\n    setForm({...form, returnSecureToken: true,  [e.target.name]: e.target.value});\n  }\n\n  function sendForm() {\n    setLoading(true);\n    const adminFrom = {\n      ...form,\n      returnSecureToken: true\n    }\n    axios.post('https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyAUkPoluxh14m21DEHDSCVxDmgMf5Dahcc', adminFrom).then(({data}) => {\n      setLoading(false);\n      const expData = new Date(new Date().getTime() + +data.expiresIn * 1000);\n      localStorage.setItem('fb-token-exp', expData.toString());\n      localStorage.setItem('fb-token', data.idToken);\n      dispatch(logged());\n      history.push('/');\n    }).catch(err => {\n      console.error(err);\n      setLoading(false);\n    });\n  }\n\n  function handleKeyPress(event) {\n    if(event.key === 'Enter'){\n      sendForm();\n    }\n  }\n\n  return (\n    <div>\n      <h3 className=\"title-text\">Admin</h3>\n      <div className={style.form}>\n        <div className=\"row\">\n          <div className=\"input-field col s12\">\n            <input onChange={onChangeForm} id=\"email\" name=\"email\" type=\"email\" onKeyPress={handleKeyPress}/>\n            <label htmlFor=\"email\">Email</label>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"input-field col s12\">\n            <input onChange={onChangeForm} id=\"password\" name=\"password\" type=\"password\" onKeyPress={handleKeyPress}/>\n            <label htmlFor=\"password\">Password</label>\n          </div>\n        </div>\n        <button disabled={loading} onClick={sendForm} className=\"btn waves-effect waves-light\" name=\"action\">\n          Login <i className=\"fas fa-paper-plane\"/>\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default Admin;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"contact_form__1g_pf\"};"],"sourceRoot":""}